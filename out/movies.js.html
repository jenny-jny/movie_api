<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: movies.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: movies.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @requires passport
 * @requires models
*/
const passport = require('passport');
Models = require('../models');

 /**
  * @constant
  * @type {Movie}
 */
const Movies = Models.Movie;

const authenticate = () => {
  return passport.authenticate('jwt', {session: false});
},

/**
 * GET the data of all movies
 * @param {Object} req
 * @param {Object} res
 */
getMovies = (req, res) => {
  Movies.find().then((movies) => {
    res.status(201).json(movies);
  }).catch((err) => {
    console.error(err);
    res.status(500).send('Error: ' + err);
  });
},

/** 
 * GET the data of a single movie by movie title
 * @param {Object} req
 * @param {Object} res
 */
getMovieTitle = (req, res) => {
  Movies.findOne({Title: req.params.Title}).then((movie) => {
    res.json(movie);
  }).catch((err) => {
    console.error(err);
    res.status(500).send('Error: ' + err);
  });
},

/**
 * GET the data of a genre by movie title 
 * @param {Object} req
 * @param {Object} res
 */
getMovieGenre = (req, res) => {
  Movies.findOne({Title: req.params.Title}).then((movie) => {
    res.json(movie.Genre);
  }).catch((err) => {
    console.error(err);
    res.status(500).send('Error: ' + err);
  })
},

/**
 * GET the data of a director by movie title 
 * @param {Object} req
 * @param {Object} res
 */
getMovieDirector = (req, res) => {
  Movies.findOne({Title: req.params.Title}).then((movie) => {
    res.json(movie.Director);
  }).catch((err) => {
    console.error(err);
    res.status(500).send('Error: ' + err);
  })
}

module.exports = {authenticate, getMovies, getMovieTitle, getMovieGenre, getMovieDirector};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addUser">addUser</a></li><li><a href="global.html#addUserFavoriteMovie">addUserFavoriteMovie</a></li><li><a href="global.html#getMovieDirector">getMovieDirector</a></li><li><a href="global.html#getMovieGenre">getMovieGenre</a></li><li><a href="global.html#getMovies">getMovies</a></li><li><a href="global.html#getMovieTitle">getMovieTitle</a></li><li><a href="global.html#getUser">getUser</a></li><li><a href="global.html#Movies">Movies</a></li><li><a href="global.html#passport">passport</a></li><li><a href="global.html#removeUser">removeUser</a></li><li><a href="global.html#removeUserFavoriteMovie">removeUserFavoriteMovie</a></li><li><a href="global.html#updateUser">updateUser</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Nov 03 2021 21:08:13 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
